{"version":3,"sources":["Components/Friends/Friends.module.css","Components/common/Paginator/Paginator.module.css","Components/Friends/User.jsx","Components/Friends/Friends.jsx","Components/common/Paginator/Paginator.js","../node_modules/reselect/es/index.js","redux/user-selectors.js","Components/Friends/FriendsContainer.jsx"],"names":["module","exports","User","user","followingInProgress","follow","unfollow","to","id","src","photos","small","userPhoto","className","classes","followed","disabled","some","onClick","name","status","Friends","users","props","map","u","key","Paginator","portionSize","currentPage","pagesCount","Math","ceil","totalItemsCount","pageSize","pages","i","push","useState","portionNumber","setPortionNumber","portionCount","leftPortionPageNumber","rightPortionPageNumber","paginator","onPageChanged","prevArrow","filter","p","selectedPage","pageNumber","e","nextArrow","defaultEqualityCheck","a","b","areArgumentsShallowlyEqual","equalityCheck","prev","next","length","getDependencies","funcs","dependencies","Array","isArray","every","dep","dependencyTypes","join","Error","createSelector","memoize","_len","arguments","memoizeOptions","_key","_len2","_key2","recomputations","resultFunc","pop","memoizedResultFunc","apply","undefined","concat","selector","params","resetRecomputations","createSelectorCreator","func","lastArgs","lastResult","getUsers","state","friendsPage","getPageSize","getTotalFriendsCount","totalFriendsCount","getCurrentPage","getIsFetching","isFetching","getFollowingInProgress","FriendsContainer","setIsFetching","setCurrentPage","friendsAPI","pageChange","then","data","setUsers","items","this","getUsersThunkCreator","console","log","Preloader","React","Component","connect","followSuccess","unfollowSuccess","setTotalUsersCount","toggleFollowingProgress"],"mappings":"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","file":"static/js/3.a72cb270.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"userPhoto\":\"Friends_userPhoto__1eV14\",\"selectedPage\":\"Friends_selectedPage__sVu6d\",\"lds_dual_ring\":\"Friends_lds_dual_ring__yoUXA\",\"lds-dual-ring\":\"Friends_lds-dual-ring__3V1iR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginator\":\"Paginator_paginator__2MW9N\",\"pageNumber\":\"Paginator_pageNumber__HurX5\",\"selectedPage\":\"Paginator_selectedPage__3e1MK\",\"prevArrow\":\"Paginator_prevArrow__1dvx0\",\"nextArrow\":\"Paginator_nextArrow__1QSPE\"};","import React from 'react';\r\nimport classes from './Friends.module.css'; \r\nimport {NavLink} from 'react-router-dom';\r\nimport userPhoto from './../../assets/images/user-young-boy.jpg';\r\n\r\n\r\n\r\nconst User = ({user, followingInProgress, follow, unfollow, ...props}) => {\r\n\r\n\treturn  <div>\r\n\t\t\t\t<span>\r\n  \t\t\t\t\t\t<div>\r\n              <NavLink to={'profile/' + user.id}>\r\n                 <img src={user.photos.small != null? user.photos.small : userPhoto} \r\n                 className={classes.userPhoto}/>\r\n              </NavLink>\r\n  \t\t\t\t\t\t\r\n  \t\t\t\t\t\t</div>\r\n  \t\t\t\t\t\t<div>\r\n  \t\t\t\t\t\t\t{ user.followed\r\n  \t\t\t\t\t\t\t\t?<button disabled={followingInProgress.some(id => id === user.id)}\r\n                     onClick={ () => {unfollow(user.id)} }>\r\n                  Unfollow</button>\r\n  \t\t\t\t\t         \r\n                  :<button disabled={followingInProgress.some(id => id === user.id)}\r\n                        onClick={ () => {follow(user.id)} }>\r\n                  Follow</button>\r\n  \t\t\t\t\t\t\t}\r\n\r\n  \t\t\t\t\t\t</div>\r\n  \t\t\t\t\t</span>\r\n\r\n  \t\t\t\t\t<span>\r\n  \t\t\t\t\t\t<span>\r\n  \t\t\t\t\t\t\t<div>\r\n  \t\t\t\t\t\t\t\t{user.name}\r\n  \t\t\t\t\t\t\t</div>\r\n  \t\t\t\t\t\t\t<div>\r\n  \t\t\t\t\t\t\t\t{user.status}\r\n  \t\t\t\t\t\t\t</div>\r\n  \t\t\t\t\t\t</span>\r\n  \t\t\t\t\t\t<span>\r\n  \t\t\t\t\t\t\t<div>u.location.country\"</div>\r\n  \t\t\t\t\t\t\t<div>\"u.location.city\"</div>\r\n  \t\t\t\t\t\t</span>\r\n  \t\t\t\t\t</span>\r\n  \t\t}   \t\t  \t\r\n\r\n    </div>\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\nexport default User;","import React from 'react';\r\nimport User from './User.jsx'\r\n\r\n\r\n\r\nconst Friends = ({users, ...props}) => {\r\n\r\n\treturn  <div>\r\n  \t\t{\r\n  \t\t\tusers.map( (u) => <User user={u} key={u.id} follow={props.follow} \r\n  \t\t\t\tunfollow={props.unfollow} followingInProgress={props.followingInProgress}/>\r\n  \t\t\t)\r\n  \t\t}   \t\t  \t\r\n    </div>\r\n}\r\n\r\nexport default Friends;","import React, {useState} from 'react';\r\nimport classes from './Paginator.module.css'; \r\n\r\nconst Paginator = ({portionSize = 10, currentPage = 1, ...props}) => {\r\n\tlet pagesCount = Math.ceil(props.totalItemsCount / props.pageSize);\r\n\tlet pages = []; \r\n\tfor (let i = 1; i <= pagesCount; i++) {\r\n\t\tpages.push(i);\r\n\t}\r\n\r\n\tlet [portionNumber, setPortionNumber] = useState(1);\r\n\tlet portionCount = Math.ceil(pagesCount / portionSize);\r\n\tlet leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\r\n\tlet rightPortionPageNumber = portionNumber * portionSize;\r\n\r\n\r\n\treturn  <div className={classes.paginator}>\r\n\t\t{\r\n\t\t\tportionNumber > 1 &&\r\n\t\t\t<span onClick={ ()=> {\r\n\t\t\t\tsetPortionNumber(portionNumber - 1);\r\n\t\t\t\tprops.onPageChanged(leftPortionPageNumber - portionSize); \r\n\t\t\t} }\r\n\t\t\tclassName={classes.prevArrow}></span>\r\n\t\t}\r\n\r\n\r\n\t\t\t{\r\n\t\t\t\tpages\r\n\t\t\t\t\t.filter(function(p) {\r\n\t\t\t\t\t\treturn p >= leftPortionPageNumber && p <= rightPortionPageNumber \r\n\t\t\t\t\t})\r\n\t\t\t\t\t.map( p => {\r\n\t\t\t\t\t\treturn <span className={currentPage == p ? classes.selectedPage : classes.pageNumber}  key={p}\r\n\t\t\t\t\t\tonClick={ (e) => props.onPageChanged(p) }> {p} </span>;\r\n\t\t\t\t\t})\r\n\t\t\t}\r\n\r\n\t\t\t{\r\n\t\t\t\tportionCount > portionNumber && \r\n\t\t\t\t\t<span onClick={ ()=> {\r\n\t\t\t\t\t\tsetPortionNumber(portionNumber + 1);\r\n\t\t\t\t\t\tprops.onPageChanged(leftPortionPageNumber + portionSize); \r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tclassName={classes.nextArrow}></span>\r\n\t\t\t}\r\n\t\t</div>\r\n\r\n}\r\n\r\nexport default Paginator;","function defaultEqualityCheck(a, b) {\n  return a === b;\n}\n\nfunction areArgumentsShallowlyEqual(equalityCheck, prev, next) {\n  if (prev === null || next === null || prev.length !== next.length) {\n    return false;\n  }\n\n  // Do this in a for loop (and not a `forEach` or an `every`) so we can determine equality as fast as possible.\n  var length = prev.length;\n  for (var i = 0; i < length; i++) {\n    if (!equalityCheck(prev[i], next[i])) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nexport function defaultMemoize(func) {\n  var equalityCheck = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : defaultEqualityCheck;\n\n  var lastArgs = null;\n  var lastResult = null;\n  // we reference arguments instead of spreading them for performance reasons\n  return function () {\n    if (!areArgumentsShallowlyEqual(equalityCheck, lastArgs, arguments)) {\n      // apply arguments instead of spreading for performance.\n      lastResult = func.apply(null, arguments);\n    }\n\n    lastArgs = arguments;\n    return lastResult;\n  };\n}\n\nfunction getDependencies(funcs) {\n  var dependencies = Array.isArray(funcs[0]) ? funcs[0] : funcs;\n\n  if (!dependencies.every(function (dep) {\n    return typeof dep === 'function';\n  })) {\n    var dependencyTypes = dependencies.map(function (dep) {\n      return typeof dep;\n    }).join(', ');\n    throw new Error('Selector creators expect all input-selectors to be functions, ' + ('instead received the following types: [' + dependencyTypes + ']'));\n  }\n\n  return dependencies;\n}\n\nexport function createSelectorCreator(memoize) {\n  for (var _len = arguments.length, memoizeOptions = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    memoizeOptions[_key - 1] = arguments[_key];\n  }\n\n  return function () {\n    for (var _len2 = arguments.length, funcs = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      funcs[_key2] = arguments[_key2];\n    }\n\n    var recomputations = 0;\n    var resultFunc = funcs.pop();\n    var dependencies = getDependencies(funcs);\n\n    var memoizedResultFunc = memoize.apply(undefined, [function () {\n      recomputations++;\n      // apply arguments instead of spreading for performance.\n      return resultFunc.apply(null, arguments);\n    }].concat(memoizeOptions));\n\n    // If a selector is called with the exact same arguments we don't need to traverse our dependencies again.\n    var selector = memoize(function () {\n      var params = [];\n      var length = dependencies.length;\n\n      for (var i = 0; i < length; i++) {\n        // apply arguments instead of spreading and mutate a local list of params for performance.\n        params.push(dependencies[i].apply(null, arguments));\n      }\n\n      // apply arguments instead of spreading for performance.\n      return memoizedResultFunc.apply(null, params);\n    });\n\n    selector.resultFunc = resultFunc;\n    selector.dependencies = dependencies;\n    selector.recomputations = function () {\n      return recomputations;\n    };\n    selector.resetRecomputations = function () {\n      return recomputations = 0;\n    };\n    return selector;\n  };\n}\n\nexport var createSelector = createSelectorCreator(defaultMemoize);\n\nexport function createStructuredSelector(selectors) {\n  var selectorCreator = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : createSelector;\n\n  if (typeof selectors !== 'object') {\n    throw new Error('createStructuredSelector expects first argument to be an object ' + ('where each property is a selector, instead received a ' + typeof selectors));\n  }\n  var objectKeys = Object.keys(selectors);\n  return selectorCreator(objectKeys.map(function (key) {\n    return selectors[key];\n  }), function () {\n    for (var _len3 = arguments.length, values = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n      values[_key3] = arguments[_key3];\n    }\n\n    return values.reduce(function (composition, value, index) {\n      composition[objectKeys[index]] = value;\n      return composition;\n    }, {});\n  });\n}","import {createSelector} from 'reselect';\r\n\r\n\r\nexport const getUsers = (state) => {\r\n\treturn state.friendsPage.users\r\n}\r\n\r\n// export const getUsersSelector = (state) => {\r\n\r\n// \treturn getUsers(state).filter(u => true)\r\n\r\n// }\r\n\r\n// Using of library 'Reselect'\r\nexport const getUsersSuper = createSelector(getUsers, (users) => {\r\n\treturn users.filter(u => true)\r\n})\r\n\r\nexport const getPageSize = (state) => {\r\n\treturn state.friendsPage.pageSize\r\n}\r\n\r\nexport const getTotalFriendsCount = (state) => {\r\n\treturn state.friendsPage.totalFriendsCount\r\n}\r\n\r\nexport const getCurrentPage = (state) => {\r\n\treturn state.friendsPage.currentPage\r\n}\r\n\r\nexport const getIsFetching = (state) => {\r\n\treturn state.friendsPage.isFetching\r\n}\r\n\r\nexport const getFollowingInProgress = (state) => {\r\n\treturn state.friendsPage.followingInProgress\r\n} ","import React from 'react';\r\nimport * as axios from 'axios';\r\nimport {NavLink} from 'react-router-dom';\r\nimport {connect} from 'react-redux';\r\nimport Friends from './Friends.jsx'\r\nimport {friendsAPI} from './../../API/api.js'\r\nimport Preloader from './Preloader/Preloader.jsx'\r\nimport classes from './Friends.module.css'; \r\nimport Paginator from './../common/Paginator/Paginator.js'\r\n\r\nimport {getUsers, getPageSize, getCurrentPage, getIsFetching, getTotalFriendsCount,\r\n\t\t getFollowingInProgress} from './../../redux/user-selectors.js';\r\nimport {followSuccess, unfollowSuccess, setUsers, setCurrentPage, setTotalUsersCount, setIsFetching, \r\n\ttoggleFollowingProgress, getUsersThunkCreator, follow, unfollow} from './../../redux/friends-reducer.js'\r\n\r\n\r\nclass FriendsContainer extends React.Component {\r\n\r\n\tcomponentDidMount () {\r\n\t\tlet {pageNumber, pageSize} = this.props;\r\n\t\tthis.props.getUsersThunkCreator(pageNumber, pageSize);\r\n\t}\r\n\t\t \r\n\tonPageChanged = (pageNumber) => {\r\n\t\t// this.props.getUsersThunkCreator(pageNumber, this.props.pageSize)\r\n\r\n\t\tthis.props.setIsFetching(true);\r\n\t\tthis.props.setCurrentPage(pageNumber);\r\n\t\tfriendsAPI.pageChange(pageNumber, this.props.pageSize)\r\n\t\t\t.then(data => {\r\n\t\t\t\tthis.props.setIsFetching(false);\r\n\t\t\t\tthis.props.setUsers(data.items);\r\n\t\t\t})\r\n\t}\r\n\r\n\trender() {\r\n\t\tconsole.log('Render friends');\r\n\r\n\t\treturn <div>\r\n\t\t\t\t<Paginator totalItemsCount={this.props.totalFriendsCount} pageSize={this.props.pageSize}\r\n\t\t\t\tcurrentPage={this.props.currentPage} onPageChanged={this.onPageChanged} portionSize={20}/>\r\n\r\n\t\t\t\t{ this.props.isFetching ? <Preloader /> : null}\r\n\t\t\t\t \r\n\t\t\t\t <Friends totalFriendsCount={this.props.totalFriendsCount}\r\n\t\t\t\tpageSize={this.props.pageSize} currentPage={this.props.currentPage}\r\n\t\t\t\tusers={this.props.users} onPageChanged={this.onPageChanged}\r\n\t\t\t\tfollowingInProgress={this.props.followingInProgress}\r\n\t\t\t\tfollow={this.props.follow} unfollow={this.props.unfollow}/>\r\n\t\t\t\r\n\t\t\t</div>\r\n\t}\r\n}\r\n\r\nlet mapStateToPropsNew = (state) => {\r\n\tconsole.log('selector works');\r\n\r\n\treturn {\r\n\t\tusers: getUsers(state),\r\n\t\tpageSize: getPageSize(state),\r\n\t\ttotalFriendsCount: getTotalFriendsCount(state),\r\n\t\tcurrentPage: getCurrentPage(state),\r\n\t\tisFetching: getIsFetching(state),\r\n\t\tfollowingInProgress: getFollowingInProgress(state)\r\n\t}\r\n}\r\n\r\n\r\n// let mapDispatchToProps = (dispatch) => {\r\n// \treturn {\r\n// \t\tfollow: (userID) => {\r\n// \t\t\tdispatch(followAC(userID))\r\n// \t\t},\r\n// \t\tunfollow: (userID) => {\r\n// \t\t\tdispatch(unfollowAC(userID))\r\n// \t\t},\r\n// \t\tsetUsers: (users) => {\r\n// \t\t\tdispatch(setUsersAC(users))\r\n// \t\t}, \r\n// \t\tsetCurrentPage: (pageNumber) => {\r\n// \t\t\tdispatch(setCurrentPageAC(pageNumber))\r\n// \t\t},\r\n// \t\tsetTotalUsersCount: (totalCount) => {\r\n// \t\t\tdispatch(setTotalUsersCountAC(totalCount))\r\n// \t\t},\r\n// \t\tsetIsFetching: (isFetching) => {\r\n// \t\t\tdispatch(FetchingAC(isFetching))\r\n// \t\t}\r\n// \t}\r\n// }\r\n\r\nexport default connect(mapStateToPropsNew, {followSuccess, unfollowSuccess, setUsers, \r\n\tsetCurrentPage, setTotalUsersCount, setIsFetching, \r\n\ttoggleFollowingProgress, getUsersThunkCreator, \r\n\tfollow, unfollow})(FriendsContainer);\r\n\r\n\r\n"],"sourceRoot":""}